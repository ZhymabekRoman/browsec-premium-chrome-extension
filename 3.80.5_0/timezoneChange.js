(()=>{"use strict";(async()=>{const bgResponse=await(message=>{if("undefined"!=typeof browser)return browser.runtime.sendMessage(message);else return new Promise((resolve=>{chrome.runtime.sendMessage(message,resolve)}))})({type:"date",url:location.href});if(!bgResponse)return;let{original:originalTimeZoneOffset,proxy:proxyTimeZoneOffset}=bgResponse;if(null===proxyTimeZoneOffset)return;const code=`\n  let offsetDifference = ${proxyTimeZoneOffset-originalTimeZoneOffset};\n  let proxyTimeZoneOffset = ${proxyTimeZoneOffset};\n\n  let dateCodeChange = (Date, offsetDifference, proxyTimeZoneOffset) => {\n  /** @function */\n  const zeroString = (value /*: number | string*/) /*: string*/ => {\n    const outputString = String(value);\n    return outputString.length >= 2 ? outputString : '0' + outputString;\n  };\n  const timezone /*: string*/ = (proxyTimeZoneOffset >= 0 ? '+' : '-') + zeroString(Math.floor(Math.abs(proxyTimeZoneOffset) / 60)) + zeroString(Math.abs(proxyTimeZoneOffset) % 60);\n  const changeDateStringTimezone = (original /*: string*/) => {\n    const newString = original.split('(')[0].trim();\n    return newString.replace(/GMT[\\\\+\\\\-][0-9]{4}/, 'GMT' + timezone);\n  };\n  if (Date.isModified) return Date;\n  const originalMethods = {};\n  originalMethods.now = Date.now;\n  originalMethods.toString = Date.prototype.toString;\n  originalMethods.toGMTString = Date.prototype.toGMTString;\n  originalMethods.toUTCString = Date.prototype.toUTCString;\n  originalMethods.toISOString = Date.prototype.toISOString;\n  originalMethods.toTimeString = Date.prototype.toTimeString;\n  originalMethods.toJSON = Date.prototype.toJSON;\n  originalMethods.getTime = Date.prototype.getTime;\n  const ModifiedDate = function (...args) {\n    let date = new Date(...args);\n\n    /* No instance */\n    if (!(this instanceof Date)) {\n      date = new Date(date.getTime() + offsetDifference * 60 * 1000);\n      return changeDateStringTimezone(date.toString());\n    }\n\n    /* No arguments with instance */\n    if (arguments.length === 0) {\n      return new Date(date.getTime() + offsetDifference * 60 * 1000);\n    }\n\n    /* 1 argument with instance */\n    if (arguments.length === 1) {\n      /* timestamp */\n      return new Date(arguments[0]);\n    }\n\n    /* 2+ agruments with instance */\n    /*date = new Date(\n      date.getTime() + offsetDifference * 60 * 1000\n    ); */\n\n    return date;\n  };\n  ModifiedDate.prototype = Date.prototype;\n  /*ModifiedDate.prototype.getTime = function(){\n    return (\n      originalMethods.getTime.call( this ) - offsetDifference * 60 * 1000\n    );\n  };*/\n\n  Object.getOwnPropertyNames(Date).filter(name => !(name in ModifiedDate)).forEach(name => {\n    Object.defineProperty(ModifiedDate, name, Object.getOwnPropertyDescriptor(Date, name));\n  });\n  Object.defineProperties(Date.prototype, {\n    'getTimezoneOffset': {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        return -proxyTimeZoneOffset;\n      }\n    },\n    'toISOString': {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        const date = new Date(this.getTime() - offsetDifference * 60 * 1000);\n        return originalMethods.toISOString.call(date);\n      }\n    },\n    'toString': {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        const date = new Date(this.getTime());\n        return changeDateStringTimezone(originalMethods.toString.call(date));\n      }\n    },\n    'toTimeString': {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        const date = new Date(this.getTime());\n        return changeDateStringTimezone(originalMethods.toTimeString.call(date));\n      }\n    },\n    'toUTCString': {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        const date = new Date(this.getTime() - offsetDifference * 60 * 1000);\n        return originalMethods.toUTCString.call(date);\n      }\n    }\n  });\n  if (Date.prototype.toGMTString) {\n    Object.defineProperty(Date.prototype, 'toGMTString', {\n      'configurable': true,\n      'enumerable': false,\n      'writable': true,\n      'value': function () {\n        const date = new Date(this.getTime() - offsetDifference * 60 * 1000);\n        return originalMethods.toGMTString.call(date);\n      }\n    });\n  }\n  ModifiedDate.now = function () {\n    return originalMethods.now() + offsetDifference * 60 * 1000;\n  };\n  Object.defineProperties(ModifiedDate, {\n    'length': {\n      'enumerable': false,\n      'configurable': true,\n      'writable': false,\n      'value': 7\n    },\n    'name': {\n      'enumerable': false,\n      'configurable': true,\n      'writable': false,\n      'value': 'Date'\n    },\n    'isModified': {\n      'enumerable': false,\n      'configurable': true,\n      'writable': false,\n      'value': true\n    }\n  });\n  return ModifiedDate;\n};\n;\n\n  Date = dateCodeChange( Date, offsetDifference, proxyTimeZoneOffset );\n  `,script=document.createElement("script");if(script.innerText=code.replace(/\n/gm,""),document.documentElement)document.documentElement.insertBefore(script,document.documentElement.firstChild)})()})();